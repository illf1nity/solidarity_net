<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ruptura</title>
  <meta name="description" content="">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Inter:wght@400;500;600&family=JetBrains+Mono:wght@500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="econ.css">
</head>
<body>

  <!-- OPENING STATEMENT -->
  <section id="opening" class="opening-section" aria-label="Opening statement">
    <!-- Populated from content.json by econ.js -->
  </section>

  <!-- PHASE 1: INPUT FORM -->
  <section id="phase1" class="phase-section phase-form" aria-label="Enter your information">
    <form id="worker-form" novalidate>
      <!-- ZIP Code -->
      <div class="form-field" data-field="zip_code">
        <label class="form-label" for="zip_code">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>
          <span data-label="zip_code"></span>
        </label>
        <input class="form-input" type="text" id="zip_code" name="zip_code" inputmode="numeric" maxlength="5" autocomplete="postal-code">
        <span class="field-error" data-error="zip_code"></span>
      </div>

      <!-- Current Salary/Wage -->
      <div class="form-field" data-field="current_wage">
        <label class="form-label" for="current_wage">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg>
          <span data-label="current_wage"></span>
        </label>
        <input class="form-input" type="text" id="current_wage" name="current_wage" inputmode="decimal" autocomplete="off">
        <span class="field-error" data-error="current_wage"></span>
      </div>

      <!-- Starting Salary -->
      <div class="form-field" data-field="start_salary">
        <label class="form-label" for="start_salary">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg>
          <span data-label="start_salary"></span>
        </label>
        <input class="form-input" type="text" id="start_salary" name="start_salary" inputmode="decimal" autocomplete="off">
        <span class="field-error" data-error="start_salary"></span>
      </div>

      <!-- Year Started Working -->
      <div class="form-field" data-field="start_year">
        <label class="form-label" for="start_year">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
          <span data-label="start_year"></span>
        </label>
        <input class="form-input" type="text" id="start_year" name="start_year" inputmode="numeric" maxlength="4" autocomplete="off">
        <span class="field-error" data-error="start_year"></span>
      </div>

      <!-- Years Doing This Kind of Work -->
      <div class="form-field" data-field="years_in_role">
        <label class="form-label" for="years_in_role">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line></svg>
          <span data-label="years_in_role"></span>
        </label>
        <input class="form-input" type="text" id="years_in_role" name="years_in_role" inputmode="numeric" maxlength="2" autocomplete="off">
        <span class="field-error" data-error="years_in_role"></span>
      </div>

      <!-- Monthly Rent -->
      <div class="form-field" data-field="current_rent">
        <label class="form-label" for="current_rent">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
          <span data-label="current_rent"></span>
        </label>
        <input class="form-input" type="text" id="current_rent" name="current_rent" inputmode="decimal" autocomplete="off">
        <span class="field-error" data-error="current_rent"></span>
      </div>

      <!-- Submit -->
      <button class="btn-submit" type="submit" id="submit-btn"></button>
      <button class="privacy-trigger" id="privacy-trigger" type="button" aria-expanded="false" aria-controls="privacy-detail">
        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>
        <span id="privacy-note-text"></span>
        <svg class="privacy-chevron" xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg>
      </button>
      <div class="privacy-detail" id="privacy-detail">
        <div class="privacy-detail-inner">
          <p>Your data stays in your browser.</p>
          <ul>
            <li>No accounts, no stored information.</li>
            <li>No cookies, no analytics, no tracking pixels.</li>
            <li>Your ZIP code is used only to look up local cost-of-living data.</li>
            <li>Calculations happen on our server but inputs are not logged.</li>
            <li>No ads. No third-party scripts.</li>
          </ul>
        </div>
      </div>
    </form>
  </section>

  <!-- LOADING STATE -->
  <div id="loading" class="loading-section" aria-label="Calculating results" aria-live="polite" role="status" hidden>
    <div class="loading-bars">
      <div class="loading-bar" style="--bar-width: 70%"></div>
      <div class="loading-bar" style="--bar-width: 45%"></div>
      <div class="loading-bar" style="--bar-width: 85%"></div>
    </div>
    <p class="loading-text" id="loading-text"></p>
  </div>

  <!-- ERROR STATE -->
  <div id="error-state" class="error-section" role="alert" hidden>
    <p class="error-heading" id="error-heading"></p>
    <p class="error-body" id="error-body"></p>
    <button class="btn-primary btn-centered" id="retry-btn"></button>
  </div>

  <!-- PHASE 2: RESULTS -->
  <section id="phase2" class="phase-section phase-results" aria-label="Your results" hidden>
    <div class="results-card" id="results-card">
      <span class="card-label" id="card-label"></span>

      <!-- Value Recognition Ceremony: Step 1 — Generated Value -->
      <div class="value-generated" id="value-generated"></div>
      <p class="value-generated-context" id="value-generated-context"></p>

      <!-- Step 2 — Wages Received -->
      <div class="wages-received" id="wages-received"></div>
      <p class="wages-received-context" id="wages-received-context"></p>

      <div class="card-divider"></div>

      <!-- Step 3 — The Gap -->
      <div class="hero-stat" id="hero-stat"></div>
      <p class="hero-context" id="hero-context"></p>
      <p class="gap-claim" id="gap-claim"></p>

      <div class="card-divider"></div>
      <div class="secondary-stat" id="secondary-stat"></div>
      <p class="secondary-stat-context" id="secondary-stat-context"></p>

      <!-- Survival Metrics: visceral translation of the gap -->
      <div class="survival-metrics" id="survival-metrics" role="group" aria-label="Impact of your annual pay gap" hidden>
        <div class="survival-metric">
          <div class="survival-value" id="days-free-value"></div>
          <div class="survival-label">days per year your employer keeps</div>
        </div>
        <div class="survival-divider"></div>
        <div class="survival-metric">
          <div class="survival-value" id="rent-equiv-value"></div>
          <div class="survival-label">months of rent that could be yours</div>
        </div>
      </div>

      <span class="card-url" id="card-url"></span>
    </div>

    <div class="card-actions">
      <button class="btn-primary" id="download-btn" aria-label="Download results as image">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
        <span id="download-btn-text"></span>
      </button>
      <button class="btn-secondary" id="share-btn" aria-label="Share your results">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line></svg>
        <span id="share-btn-text"></span>
      </button>
    </div>

    <button class="breakdown-trigger" id="breakdown-trigger" aria-expanded="false" aria-controls="breakdown-content">
      <span id="breakdown-trigger-text"></span>
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg>
    </button>
    <div class="breakdown-content" id="breakdown-content">
      <div class="breakdown-inner" id="breakdown-inner">
        <!-- Rows populated by JS from API data -->
      </div>
    </div>

    <button class="methodology-trigger" id="methodology-trigger" aria-expanded="false" aria-controls="methodology-content">
      <span id="methodology-trigger-text"></span>
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"></polyline></svg>
    </button>
    <div class="methodology-content" id="methodology-content">
      <div class="methodology-inner" id="methodology-inner">
        <!-- Populated by JS -->
      </div>
    </div>

    <!-- PRIMARY CTA — Immediately after results, before context -->
    <div class="primary-cta" id="primary-cta" hidden>
      <button class="btn-cta-collect" id="collect-btn">
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line></svg>
        <span id="collect-btn-text"></span>
      </button>
      <p class="cta-subtext" id="cta-subtext">Get a personalized negotiation script backed by your numbers.</p>
    </div>
  </section>

  <!-- PHASE 3D: Take a Step — Commitment Ladder (built dynamically by econ.js) -->
  <section id="phase3d" class="phase-section phase-action" aria-label="Take action" hidden>
    <h2 class="action-heading" id="action-heading"></h2>
    <!-- Commitment ladder steps injected here by renderPhase3dShell() -->
    <p class="closing-line" id="closing-line"></p>
  </section>

  <!-- PHASE 3A: Stat Cards -->
  <section id="phase3a" class="phase-section phase-permission" aria-label="Context statistics" hidden>
    <div id="stat-cards-container">
      <!-- Stat cards populated from content.json -->
    </div>
    <p class="reframe-statement" id="reframe-statement"></p>
  </section>

  <!-- PHASE 3B: Validation -->
  <section id="phase3b" class="phase-section phase-validation" aria-label="Addressing doubts" hidden>
    <div id="validation-container">
      <!-- Validation blocks populated from content.json -->
    </div>
  </section>

  <!-- PHASE 3C: What Change Looks Like -->
  <section id="phase3c" class="phase-section phase-change" aria-label="What change could mean" hidden>
    <h2 class="change-heading" id="raise-heading"></h2>
    <div class="bar-chart" id="bar-chart">
      <div class="bar-row">
        <div class="bar-label" id="bar-label-current"></div>
        <div class="bar-track">
          <div class="bar-fill current" id="bar-current"></div>
          <span class="bar-value current" id="bar-value-current"></span>
        </div>
      </div>
      <div class="bar-row">
        <div class="bar-label" id="bar-label-projected"></div>
        <div class="bar-track">
          <div class="bar-fill projected" id="bar-projected"></div>
          <span class="bar-value projected" id="bar-value-projected"></span>
        </div>
      </div>
    </div>
    <div class="bar-difference" id="bar-difference"></div>

    <!-- Cost Translator: icon grid showing gap as months of rent/groceries/healthcare -->
    <div id="cost-translator" class="cost-translator" hidden>
      <div class="cost-tab-toggle" role="tablist" aria-label="Cost category">
        <div class="frequency-slider cost-slider" data-pos="0"></div>
        <button type="button" class="frequency-option cost-tab active" role="tab" aria-selected="true" data-tab="rent">Rent</button>
        <button type="button" class="frequency-option cost-tab" role="tab" aria-selected="false" data-tab="food">Groceries</button>
        <button type="button" class="frequency-option cost-tab" role="tab" aria-selected="false" data-tab="healthcare">Healthcare</button>
      </div>
      <div class="cost-icon-grid" id="cost-icon-grid" role="img" aria-label="Months your gap covers">
        <!-- 12 icons populated by JS -->
      </div>
      <p class="cost-summary" id="cost-summary"></p>
    </div>

    <div class="projection-cards" id="projection-cards">
      <!-- 3 projection cards populated by JS -->
    </div>
    <p class="context-line" id="context-line"></p>

    <!-- Career Timeline: stacked bars per year -->
    <div id="career-timeline-section" hidden>
      <button class="breakdown-trigger career-timeline-trigger" id="career-timeline-trigger" aria-expanded="false" aria-controls="career-timeline-content">
        <span>Your Career Timeline</span>
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg>
      </button>
      <div class="career-timeline-content" id="career-timeline-content">
        <div class="career-timeline" id="career-timeline" role="img" aria-label="Career earnings timeline">
          <!-- Rows populated by JS -->
        </div>
      </div>
    </div>

    <!-- Cost of Waiting: urgency visualization -->
    <div id="urgency-section" class="urgency-section" hidden>
      <h3 class="urgency-heading">The Cost of Waiting</h3>
      <div class="urgency-chart" id="urgency-chart" role="img" aria-label="Cumulative cost of waiting to act">
        <!-- SVG populated by JS -->
      </div>
      <div class="urgency-callouts" id="urgency-callouts">
        <!-- 3 callout cards populated by JS -->
      </div>
    </div>

    <h3 class="wins-heading" id="wins-heading"></h3>
    <div id="wins-container">
      <!-- Win cards populated from content.json -->
    </div>
  </section>

  <!-- Sticky Bottom Action Bar -->
  <div id="sticky-bar" class="sticky-bar" hidden aria-label="Quick actions">
    <button class="sticky-bar-btn btn-secondary" id="sticky-share-btn">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line></svg>
      <span>Share</span>
    </button>
    <button class="sticky-bar-btn btn-primary" id="sticky-script-btn">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line></svg>
      Get Script
    </button>
  </div>

  <!-- HIDDEN: Downloadable card render target (off-screen, for html2canvas) -->
  <div id="download-card" class="download-card-offscreen" aria-hidden="true">
    <div class="dl-header" id="dl-header"></div>
    <div class="dl-hero" id="dl-hero"></div>
    <div class="dl-context" id="dl-context"></div>
    <div class="dl-secondary" id="dl-secondary"></div>
    <div class="dl-footer">
      <div class="dl-url" id="dl-url"></div>
      <div class="dl-tagline" id="dl-tagline"></div>
    </div>
    <div class="dl-watermark" id="dl-watermark"></div>
  </div>

  <script src="econ.js" defer></script>
  <script src="video-card.js" defer></script>
</body>
</html>
